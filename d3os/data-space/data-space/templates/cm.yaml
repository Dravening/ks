apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "data-space.fullname" . }}
  labels:
    app: {{ template "data-space.fullname" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
data:
# {{ (.Files.Glob "etc/*").AsConfig | indent 2 }}

# {{- range .Values.configOverrides }}
#   {{ . }}: |-
# {{ $.Files.Get (printf "%s%s" "etc/" .) | indent 4 }}
# {{- end }}

  application-token.txt: |-
  {{- if .Values.applicationTokenTxt }}
{{ tpl .Values.applicationTokenTxt . | indent 4 }}
  {{- end }}
  basic-realm.properties: |-
  {{- if .Values.basicRealmProperties }}
{{ tpl .Values.basicRealmProperties . | indent 4 }}
  {{- end }}
  credential-stores.properties: |-
  {{- if .Values.credentialStoresProperties }}
{{ tpl .Values.credentialStoresProperties . | indent 4 }}
  {{- end }}
  database-realm.properties: |-
  {{- if .Values.databaseRealmProperties }}
{{ tpl .Values.databaseRealmProperties . | indent 4 }}
  {{- end }}
  digest-realm.properties: |-
  {{- if .Values.digestRealmProperties }}
{{ tpl .Values.digestRealmProperties . | indent 4 }}
  {{- end }}
  dpm-url.txt: |-
  {{- if .Values.dpmUrlTxt }}
{{ tpl .Values.dpmUrlTxt . | indent 4 }}
  {{- end }}
  dpm.properties: |-
  {{- if .Values.dpmProperties }}
{{ tpl .Values.dpmProperties . | indent 4 }}
  {{- end }}
  email-password.txt: |-
  {{- if .Values.emailPasswordTxt }}
{{ tpl .Values.emailPasswordTxt . | indent 4 }}
  {{- end }}
  form-realm.properties: |-
  {{- if .Values.formRealmProperties }}
{{ tpl .Values.formRealmProperties . | indent 4 }}
  {{- end }}
  jdbc.properties: |-
  {{- if .Values.jdbcProperties }}
{{ tpl .Values.jdbcProperties . | indent 4 }}
  {{- end }}
  keystore-password.txt: |-
  {{- if .Values.keystorePasswordTxt }}
{{ tpl .Values.keystorePasswordTxt . | indent 4 }}
  {{- end }}
  keystore.jks: |-
  {{- if .Values.keystoreJks }}
{{ tpl .Values.keystoreJks . | indent 4 }}
  {{- end }}
  ldap-bind-password.txt: |-
  {{- if .Values.ldapBindPasswordTxt }}
{{ tpl .Values.ldapBindPasswordTxt . | indent 4 }}
  {{- end }}
  ldap-login.conf: |-
  {{- if .Values.ldapLoginConf }}
{{ tpl .Values.ldapLoginConf . | indent 4 }}
  {{- end }}
  remote-realm.properties: |-
  {{- if .Values.remoteRealmProperties }}
{{ tpl .Values.remoteRealmProperties . | indent 4 }}
  {{- end }}
  sdc-log4j.properties: |-
  {{- if .Values.sdcLog4jProperties }}
{{ tpl .Values.sdcLog4jProperties . | indent 4 }}
  {{- end }}
  sdc-security.policy: |-
  {{- if .Values.sdcSecurityPolicy }}
{{ tpl .Values.sdcSecurityPolicy . | indent 4 }}
  {{- end }}
  sdc.properties: |-
  {{- if .Values.sdcProperties }}
{{ tpl .Values.sdcProperties . | indent 4 }}
  {{- end }}
  support-bundle-redactor.json: |-
  {{- if .Values.supportBundleRedactorJson }}
{{ tpl .Values.supportBundleRedactorJson . | indent 4 }}
  {{- end }}
  vault.properties: |-
  {{- if .Values.vaultProperties }}
{{ tpl .Values.vaultProperties . | indent 4 }}
  {{- end }}
